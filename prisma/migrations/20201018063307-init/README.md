# Migration `20201018063307-init`

This migration has been generated by woony at 10/18/2020, 3:33:07 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE `Product` DROP COLUMN `company`,
    DROP COLUMN `phone`

ALTER TABLE `User` ADD COLUMN `role` varchar(191)  NOT NULL 

ALTER TABLE `User_Marketer` ADD COLUMN `company_cate` varchar(191)  NOT NULL 
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201018062435-init..20201018063307-init
--- datamodel.dml
+++ datamodel.dml
@@ -4,9 +4,9 @@
 }
 datasource db {
   provider = "mysql"
-  url = "***"
+  url = "***"
 }
 model HomeAD {
   id        String    @id @default(cuid())
@@ -29,10 +29,10 @@
   phone          String  @unique
   permit         Boolean @default(false)
   email_check    Boolean @default(false)
   registerSecret String  @default("")
+  role           String
-
   inbox  Message[] @relation("MessageReceiver")
   outbox Message[] @relation("MessageSender")
   rooms  Room[]    @relation(name: "RoomParticipants")
@@ -60,8 +60,9 @@
   id     String @id @default(cuid())
   user   User   @relation(name: "userMarketId", fields: [userId], references: [id])
   userId String
+  company_cate  String
   company_name  String
   company_certi String
   product Product[]
@@ -99,22 +100,21 @@
   updatedAt DateTime  @default(now()) @updatedAt
   createdAt DateTime  @default(now())
   expireAt  DateTime?
+  Marketer   User_Marketer? @relation(fields: [marketerId], references: [userId])
+  marketerId String?
+
   mainCategory String
   subCategory  String?
   sampleImages sampleImage[]
   detailImages detailImage[]
   title        String
-  content      String         @default("")
+  content      String        @default("")
   views        Int
   calls        Int
-  aboveAD      Boolean        @default(false)
-  company      String
-  phone        String
+  aboveAD      Boolean       @default(false)
   likeProduct  likeProduct[]
-  Marketer     User_Marketer? @relation(fields: [marketerId], references: [userId])
-  marketerId   String?
 }
 model sampleImage {
   id        String   @id @default(cuid())
```


